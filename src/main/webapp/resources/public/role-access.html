<!DOCTYPE html>
<html ng-app="roleAccessApp">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Settings </title>
<link rel="stylesheet" href="/resources/public/css/style.default.css" type="text/css" />
<link rel="stylesheet" href="/resources/public/css/main.css" type="text/css" />

<link href="/resources/public/css/bootstrap.min.css" rel="stylesheet">
<link href="/resources/public/css/font-awesome.min.css" rel="stylesheet">


<script src="/resources/public/js/plugins/jquery-1.12.1.min.js"></script>
<link rel="stylesheet" type="text/css" href="/resources/public/css/font-awesome.css">
<script type="text/javascript" src="/resources/public/js/plugins/jquery-1.7.min.js"></script>
<script type="text/javascript" src="/resources/public/js/plugins/jquery-ui-1.8.16.custom.min.js"></script>
<script type="text/javascript" src="/resources/public/js/plugins/jquery.cookie.js"></script>
<script type="text/javascript" src="/resources/public/js/plugins/jquery.uniform.min.js"></script>
<script type="text/javascript" src="/resources/public/js/plugins/jquery.flot.min.js"></script>
<script type="text/javascript" src="/resources/public/js/plugins/jquery.flot.resize.min.js"></script>
<script type="text/javascript" src="/resources/public/js/plugins/jquery.slimscroll.js"></script>
<script type="text/javascript" src="/resources/public/js/custom/general.js"></script>
<script type="text/javascript" src="/resources/public/js/custom/angular.js"></script>
<script src="/resources/public/js/bootstrap.min.js"></script>

<script type="text/javascript" src="/resources/public/js//roleAccess.js"></script> 

<!-- Add header.js to get user access permissions -->
<script type="text/javascript" src="/resources/public/js/header.js"></script>

<script type="text/javascript" src="/resources/public/js/paymentTerm.js"></script>

<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="js/plugins/excanvas.min.js"></script><![endif]-->
<!--[if IE 9]>
    <link rel="stylesheet" media="screen" href="css/style.ie9.css"/>
<![endif]-->
<!--[if IE 8]>
    <link rel="stylesheet" media="screen" href="css/style.ie8.css"/>
<![endif]-->
<!--[if lt IE 9]>
	<script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
<![endif]-->
</head>

<body class="withvernav" ng-controller="roleAccessCntrl">

<div class="bodywrapper">
    
<div ng-include="'topheader.html'"></div>
<script>
	setTimeout( function() {
 		$('#setting').addClass('current')
	} ,3000);
</script>
	

<div class="vernav2 iconmenu" ng-controller="UserRoleCntrl">
	<ul>
    	<li ng-if="(vm.userRoleList.roleDesciption.indexOf('Admin') >= 0) || (vm.userRoleList.roleDesciption.indexOf('Edit Registration Details') >= 0)"><a href="setting.html" class="editor">Edit Registration Details </a></li>
		<li ng-if="(vm.userRoleList.roleDesciption.indexOf('Admin') >= 0) || (vm.userRoleList.roleDesciption.indexOf('Bank Detail') >= 0)"><a href="edit-add-bank.html" class="editor">Bank Detail</a></li>
		<li ng-if="(vm.userRoleList.roleDesciption.indexOf('Admin') >= 0) || (vm.userRoleList.roleDesciption.indexOf('Set Approvers') >= 0)"><a href="set-default.html" class="editor">Set Approvers</a></li>
		<li ng-if="(vm.userRoleList.roleDesciption.indexOf('Admin') >= 0) || (vm.userRoleList.roleDesciption.indexOf('Role Access') >= 0)" class="current"><a href="role-access.html" class="editor">Role Access</a></li>
		<li ng-if="(vm.userRoleList.roleDesciption.indexOf('Admin') >= 0) || (vm.userRoleList.roleDesciption.indexOf('Payment Terms') >= 0)"><a href="payment-terms.html" class="editor">Payment Terms</a></li>        
        
	</ul>
    <a class="togglemenu"></a>
    <br /><br />
</div><!--leftmenu-->
        
<div class="centercontent">
	<div class="pageheader">           
		<div class="pageheader_edit">
        	<h1 class="pagetitle">Role Access</h1>
		</div>
	</div><!--pageheader-->
    <div class="clearfix"></div>

	<div class="col-md-12">
        <button class="stdbtn btn_black pull-right mb-10" data-toggle="modal" data-target="#myModalRole"><i class="fa fa-edit"></i> Create New Role</button>
        <div class="clearfix"></div>
        	<table class="table table-hover">
				<thead class="table-head" >
                	<tr>
                		<th>Permissions</th>
                      	<th ng-repeat="(key, value) in userPermissions" ng-bind="key"></th>
                    </tr>
                </thead>
                <tbody> 
                	<tr ng-repeat="(listKey, ListValue) in permissionList">
                    	<td>{{ListValue}}</td>
                        <td ng-if="vm.roleList[0]">{{vm.roleList[0].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[1]">{{vm.roleList[1].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[2]">{{vm.roleList[2].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td> 
                        <td ng-if="vm.roleList[3]">{{vm.roleList[3].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[4]">{{vm.roleList[4].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[5]">{{vm.roleList[5].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[6]">{{vm.roleList[6].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td> 
                        <td ng-if="vm.roleList[7]">{{vm.roleList[7].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[8]">{{vm.roleList[8].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[9]">{{vm.roleList[9].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[10]">{{vm.roleList[10].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>                        
                        <td ng-if="vm.roleList[11]">{{vm.roleList[11].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[12]">{{vm.roleList[12].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[13]">{{vm.roleList[13].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        <td ng-if="vm.roleList[14]">{{vm.roleList[14].roleDesciption.indexOf(ListValue) >= 0 ? 'Yes' : 'NO'}}</td>
                        
                    </tr>
                </tbody>
                
			</table>
		</div>
		<br clear="all" />
	</div><!-- centercontent -->
	<br><br><br><br><br>
</div><!--bodywrapper-->


<!-- role access -->
<div class="modal fade" id="myModalRole" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	<div class="modal-dialog ">
  		<form class="form-horizontal" name="form" id="addRole" ng-submit="addNewRole(role)">
    		<div class="modal-content">
        		<div class="modal-header loginboxinner">
            		<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
            		<h4 class="modal-title"><i class="fa fa-eye"></i> Create New Role</h4>
        		</div>
     
      			<div class="modal-body">
      
      				<!-- Error and Success Message -->
				    <tt-error-messages></tt-error-messages>
				    <div ng-if="showMessage" ng-show="showMessage" class="info-messages"
						ng-style="{'opacity': vm.infoMessages.length > 0 ? 2 : 0, 'z-index': vm.infoMessages.length > 0 ? 10 : -10}">
						<img class="info-icon" src="/resources/img/info-icon.png">
						<div class="messages-group">
							<div ng-repeat="info in vm.infoMessages">{{info.description}}</div>
						</div>
					</div>
      
            		<div class="">
		                <div class="col-md-4 p0">
		                    <label for="exampleInputEmail1">Role</label>
		                    <input type="text" ng-focus="focus('roleName')" ng-model="role.roleName" 
	                    							name="roleName" id="roleName" placeholder="Role Name" class="form-control" required />
		                </div>
		                <div class="clearfix"></div>
		                <div class="checkbox_role">
		                    <ul>
		                    	<li data-ng-repeat="(k,v) in permissionList"><label><input type="checkbox" ng-model="role.accessRole[k]" ng-init="role.accessRole[k] = v"> {{v}}</label></li>
		                    </ul>
		                </div>
					</div>
      			</div>
      			<div class="modal-footer">
			        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
			        <button type="submit" class="btn btn-primary">Save</button>
      			</div>
    		</div>
		</form>
	</div>
</div>
<!-- role access-->




































<script src="/resources/public/js/bootstrap-button-to-input-file.js"></script>

<script>
var filestyler = new buttontoinputFile();

$(document).ready(function() {
       
    $("button[name='addDom']").click(function() {
        var domElement = $('<div class="row list_add"><div class="col-md-5"> Pan Card</div><div class="col-md-5"> 015245.jpg</div><div class="col-md-2"><button type="button" class="removebutton" title="Remove this row">X</button></div></div>');
        $(this).after(domElement);
    });
    
});

$(document).on('click', 'button.removebutton', function () {
     alert("Are you sure you want to delete this documents");
     $(this).closest('.list_add').remove();
     return false;
 });
</script>

</body>

</html>
